## Null&&objectmerge
- 节点之间的断线传输
- Null接收
- objectmerge输出
## 设置坐标轴
* centriod：居中到几何中心
* bbox：获取最小或最大坐标
## 设置HDA参数
* chs("")函数
* 可以与字符串直接相加chs("")+""
## 引用外部文件
- File节点
- 代码格式：Hscript Expression
- 输入坐标/设置外部参数[[功能实现#设置HDA参数]]
## 曲线扫掠成面
- 创建曲线
- 设置曲线法线[[#设置样条线点的法线切线]]
- 创建Line
- copytopoints
- skin
## 生成点并赋予随机属性
- scatter节点
- 创建属性并赋予随机值
## 投射点到面
- ray节点
- delete节点（根据ray产生的组删除）
## 根据属性散布物体
- 对物体赋予属性
- 对点赋予相同属性
- copytopoints：启用属性并输入属性名
## 获取模型底面
- delete节点
- 使用delete的BoundingVolume、Normal等属性进行删除面
## UVlayout散布
- 获取模型底面[[功能实现#获取模型底面]]
- uvlayout节点
- for each(connectivity)循环生成面中心点并删除其他
	- [[Vex#生成面中心点]]
## 随机旋转
- 第一种：法线沿四元数旋转[[Vex#四元数旋转]]
- 第二种：通过for each connectivity进行transform相连物体
  - transform需要使用centroid()函数将每个物体的轴心设置到中心
## 打直曲线UV
- 曲线扫掠成面，模式选择不成面[[功能实现#曲线扫掠成面]]
- 设置uv.x、uv.y的值为0~1[[Vex#打直UV]]
## 点距离剔除
- 第一种：fuse节点
- 第二种：循环遍历每个点的距离剔除[[Vex#点距离剔除]]
## 设置样条线点的法线切线
- 第一种：vex[[Vex#设置曲线法线]]
- 第二种：vop
    - 同样使用后一个点的坐标减去前一个点的坐标
    - 但是后一个点的坐标要使用第二个输入口输入，不能都用一个输入口输入，会出问题
## 随机分布点属性
- randomizie节点
- 根据点颜色、点序等属性来通过条件判断随机[[Vex#随机设置属性]]
## wrangle定义控制变量
- chf/chi("滑杆名")：定义一个滑竿变量
## 随机点位置
- 第一种：使用randomize随机法线方向，然后使用pointjitter让点沿着法线方向随机移动
- 第二种：使用mountain使平面产生噪波（可先用remesh增加细分），然后scatter撒点
## 植被由内向外渐变
- 设置一个方向渐变属性
- 根据这个属性设置scale

# 功能实现

- SD_阶跃算法
  - PixelProcessor
    ![[Pasted image 20240820141433.png|195]]
- 2D_WFC
  - WFC
    - WFC_Collapse
      - 输入散布网格
      - 输入采样网格
    - WFC_Initialize
      - 采样网格
        - 可选择贴图
  - Wang_Tile
    - Wang_Decoder
      - 对WFC_Collapse解码
    - Wang_Sample
      - 生成采样模块
- Python批量导出
  - Connectivity循环模型，通过循环值进行ID分配
  - 将ID与帧数绑定进行剔除（$F代表帧数）
  - Rop导出FBX
    - detail获取属性时，如果属性为字符串类型，需要使用details（）
      - 如果没有提示加上重音号
  - Null节点
    - 添加String字符串参数
      - 开启多行字符串
      - 设置python语言
    - 添加Button按钮参数
      - 设置执行的节点参数（即String参数）
        - exec(hou.node("节点路径").parm("要执行的参数名").eval(空))
    - Pyhton：[[Python#Houdini批量导出]]
- 实例化ue中的模块资产（固定路径法，非DataTable）
  - 模块资产多，手动填表很麻烦
  - 暴露参数获取ue中的资产引用路径
  - 对WangTiles的点进行处理，设置将资产引用路径处理成对应的unreal_instance
- vex实现copytopoints功能
  - pointatri获取
    - P
    - unreal_instance
    - transform
  - setpoint设置
- 蓝图脚本批量赋予材质
- 表格填写
  - 模块表格填写
    - unreal_instance
    - name
    - group
    - size
    - Rotate
    - freq
    - prior
    - U、D、L、R、F、B六个方向的接口
- Box切分
  - 生成循环点
    - 创建box
    - 通过创建的box获得循环值并生成点
      - Connectivity：将box数量提升为detail公开变量
      - pointgenerate：根据box最大数量生成点（只是要用这个点来进行循环节点）
      - 同时根据点序来定义boxNum
  - 通过循环点来进行循环处理
    - 循环副节点和输出节点要选择单独输出
    - 生成整数尺寸的box并切分
      - 获取手动拖拽的box尺寸，并取整
        - getbbox_size：获取尺寸
        - rint：四舍五入
      - 新建box
        - 将取整后的尺寸赋予，同时坐标轴归中
          - centriod输入节点使用-1，即归中到手动创建的box上
        - 将进行类别区分的属性（type）赋予
          - transfer：传递属性节点
      - 切分：细分为尺寸+1
    - 吸附功能
      - box自身吸附
      - box整体吸附到整数坐标（）
    - 生成切分box中心点
      - point from volume
      - 通过前面box的边框进行组筛选将type属性赋予点
      - ⭐hasattribute（）函数判断是否有某个属性，返回值为1和0
- 模块接口填写
  - 接口定义规则
    - 接口类型
      - RF：房顶和地板，上下接口
      - W：不带屋顶的墙壁模块
      - WR：带屋顶的墙壁模块
      - WS：延伸模块的墙壁
      - OP： 墙壁后的延伸模块
      - OPR： 带屋顶的墙壁后的延伸模块
      - OPS：延伸模块的开放
      - N：不能接任何模块
    - 接口后缀
      - Y：必须和其他模块相接
      - O：可连可不连
- 切分点处理
  - 获取每个点六个方向的相邻点序
    - 进行name初始赋值：先进行一个初始化赋值，后面波坍塌时会进行赋值
    - 创建方向数组
    - 创建点序数组
    - foreach进行循环遍历方向
    - nearpt获得六个方向的点序
    - push动态增加点序数组
- WFC_Python
  - 获取相邻点信息并储存
  - 第一张表格
    - 定义循环方向tup
    - 定义表格信息变量lis
      - ferquence
      - group
      - name
      - prior
    - 定义表格信息变量dir：根据名字索引
      - rotate
      - 6个接口Connector
    - 模块数量：numpattern
  - 第二张表格：根据name或者port索引
    - connectorport
