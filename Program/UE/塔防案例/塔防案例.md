## Buff系统
### 基类
- 继承WorldSubsystem
- 创建buff类
	- 继承自UObject
		- `Class UBuff:public UObject`
	- 定义角色指针
		- `ABaseCharacter* Character;`
	- 声明Attach虚函数
		- `Void Attach(Character* C);`
	- 声明Detach虚函数
	- 创建Duration变量
	- 创建Rate变量
	- 创建TimerHandle变量
	- 声明Init虚函数
		- `Virtual Void Init(float D,float R);`
- 声明CreateBuff函数
	- `UBuff* CreateBuff(EBuffType Buff,float rate,float duration)`
	- 定义
		- 声明Buff
			- `UBuff* buff;`
			- 枚举判断创建buff类型
				- 实例化Buff`buff=NewObject<UBuff>(this)`
			- 调用buff初始化函数
				- `buff.Init(Duration,Rate)`
			- 返回buff
- 声明AttachBuff函数
	- `Void AttachBuff(ABaseCharacter* Character,UBuff* Buff);`
- 定义Buff枚举类型
	- 速度
	- 攻击速度
- 实例化枚举类型中的两个Buff子类
	- 速度
	- 攻击速度
- BaseCharacter创建Buff数组，并定义增加、移除函数

# 玩法流程
## 地图导入
- 注意添加导航网格
## 游戏失败 
- GameState定义关卡生命值变化函数
	- Min节点锁定最大生命值
	- 判断生命值是否调用GameMode失败函数
- GameMode定义失败函数
- 创建敌人通过监测类，调用关卡生命值变化函数
- UI面板绑定关卡生命值显示
## 关卡数据结构设计
### 草图
- 初始金币
- 生命值
- 敌人波次
	- 波次间隔T
	- 簇数量
	- 一簇敌人
		- 种类（敌人名字）
		- 数量
		- 路线
### 逻辑实现
- 创建每簇敌人的结构体（继承自数据表格）
	- 名字
	- 数量
	- 路线
- 创建波次敌人的结构体
	- 数组变量：每簇敌人结构体的类（通过数组长度确定簇的数量）
	- 簇的冷却时间
- 创建关卡数据结构体
	- 数组变量：波次敌人结构体的类（通过数组长度确定波次的数量）
	- 金币数量
	- 生命值
	- 波次的冷却时间
## 生成每波敌人
- 使用递归生成每簇敌人
- 最后一簇生成结束使用事件分发器发送生成下一波敌人的信号
- 定义生成一波敌人事件
## 胜利条件判定
- 波数已经达到最大
	- 作为tick的执行条件
- 敌人已经全部死亡
	- 创建敌人时增加敌人变量到数组
	- 死亡时移除自身
	- 敌人到达水晶时也移除自身
- GameMode定义胜利函数
## 第二张地图
- 使用Map变量类型对样条线进行配对并指定调用
	- MAP变量可以使用value节点调用值
- 对波次结构体创建一个字符串变量作为是否产生新路径的条件
	- 新波次生成时进行广播，如果广播成功则产生新路径
## 下一波
- 第一波不点击不会出现
- 之后的波次不点及等冷却时间过了会直接出现，点击的话会立即出现
## 悬浮高亮
- 使用C++实现物体的自定义深度的启用
- 使用C++获取物体的子部件